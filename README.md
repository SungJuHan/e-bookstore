# mybnb

Airbnb 와 같은 숙박 공유 서비스입니다.


# Table of contents


# 서비스 시나리오

숙박 공유 서비스 커버하기

기능적 요구사항
1. 호스트가 본인이 공유한 숙소 목록을 조회한다.
1. 호스트가 속소를 신규 공유한다.
1. 호스트가 숙소 정보를 변경한다.
1. 호스트가 숙소 공유를 중단한다.

1. 게스트가 숙소를 검색한다.
- 지역을 선택 (국가, 도시)
1. 게스트가 숙소를 선택하여 사용 예약한다.
- 사용기간을 지정 (from, to)
1. 사용자가 결제한다. (Sync, 결제서비스)
1. 결제가 완료되면, 결제 & 예약 내용을 게스트에게 전달한다. (Async, 통지서비스)
1. 예약 내역을 호스트에게 전달한다.

1. 게스트는 본인의 예약 내용 및 상태를 조회한다.
1. 게스트는 본인의 예약을 취소할 수 있다.
1. 예약이 취소되면, 결제를 취소한다. (Sync, 결제서비스)
1. 결제가 취소되면, 결제 취소 내용을 게스트에게 전달한다. (Async, 통지서비스)

1. 게스트는 사용한 숙소의 사용 후기를 작성할 수 있다.
1. 게스트가 사용한 숙소의 사용 후기를 작성한다.
1. 숙소 사용 후기가 등록되면, 사용 금액의 1%를 마일리지로 적립한다. (Async, 마일리지 서비스)


비기능적 요구사항
1. 트랜잭션
    1. 결제가 되지 않은 예약건은 아예 거래가 성립되지 않아야 한다  Sync 호출 
1. 장애격리
    1. 통지(알림) 기능이 수행되지 않더라도 예약은 365일 24시간 받을 수 있어야 한다  Async (event-driven), Eventual Consistency
    1. 결제시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다  Circuit breaker, fallback
1. 성능
    1. 게스트와 호스트가 자주 예약관리에서 확인할 수 있는 상태를 마이페이지(프론트엔드)에서 확인할 수 있어야 한다  CQRS
    1. 처리상태가 바뀔때마다 email, app push 등으로 알림을 줄 수 있어야 한다  Event driven
